(this["webpackJsonpjobs-app"]=this["webpackJsonpjobs-app"]||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var o,c=n(0),r=n.n(c),a=n(32),s=n.n(a),i=(n(144),n(4)),l=n(107),j=(n(145),n(146),n(231)),b=n(233),u=n(7),d=function(e){return Object(u.jsxs)("div",{className:"SearchBar",children:[function(e){return Object(u.jsx)(j.a,{value:e.jobsTitle,style:{width:"100%"},options:e.titleOptions,placeholder:"Title",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(t){return e.onJobTitleChange(t)}})}(e),function(e){return Object(u.jsx)(j.a,{value:e.jobsLoc,style:{width:"100%"},options:e.countryOptions,placeholder:"Country",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(t){return e.onJobLocChange(t)}})}(e),Object(u.jsx)(b.a,{onClick:function(){e.onJobLocChange(""),e.onJobTitleChange("")},children:"Clear search"})]})},h=n(131),p=function(e){return Object(u.jsxs)("div",{className:"JobDesc ".concat(e.selectedJob?"":"empty"),children:[Object(u.jsx)("h1",{children:e.selectedJob?e.selectedJob.title:"Seleccione un trabajo"}),Object(u.jsx)("p",{children:Object(u.jsx)(h.a,{children:e.selectedJob?e.selectedJob.description:""})})]})},f=function(e){var t=e.job,n=t.company,o="";t.cities.map((function(e){return o+="".concat(e.name,", ").concat(e.country.name,". "),e}));var c=(new Date).getTime(),r=new Date(t.createdAt).getTime(),a=Math.round((c-r)/1e3),s="";return s=a<1?"just now":a<60?"".concat(a," seconds ago"):a<3600?"".concat(Math.round(a/60)," minutes ago"):a<86400?"".concat(Math.round(a/3600)," hours ago"):a<2592e3?"".concat(Math.round(a/86400)," days ago"):a<31536e3?"".concat(Math.round(a/2592e3)," months ago"):"".concat(Math.round(a/31536e3)," years ago"),Object(u.jsxs)("div",{className:"Job ".concat(e.selected?"selected":""),onClick:function(){e.onSelectedJobIdChange(t.id)},children:[Object(u.jsx)("h3",{children:t.title}),Object(u.jsx)("h3",{className:"subtitle",children:Object(u.jsx)("a",{href:n.websiteUrl,children:n.name})}),Object(u.jsx)("h3",{className:"subtitle",children:o}),Object(u.jsx)("p",{className:"jobDate",children:s})]})},O=function(e){var t=e.jobsInfo.jobsLoc,n=e.jobsInfo.jobsTitle;return Object(u.jsxs)("div",{className:"JobListHeader",children:[Object(u.jsx)("p",{className:"subtitle",children:function(){var e="";return(t||n)&&(e+="Empleos",n&&(e+=" de "+n),t&&(e+=" en "+t)),e}()}),Object(u.jsxs)("p",{className:"order",children:["Ordenar por: ",Object(u.jsx)("button",{className:"title"===e.orderBy?"active":"",onClick:function(){return e.onSetOrderByChange("title")},children:"nombre"})," - ",Object(u.jsx)("button",{className:"date"===e.orderBy?"active":"",onClick:function(){return e.onSetOrderByChange("date")},children:"fecha"})]})]})},x=function(e){var t=Object(c.useState)("title"),n=Object(i.a)(t,2),o=n[0],r=n[1],a=[],s=function(e,t){return e.title>t.title?1:-1};switch(o){case"title":s=function(e,t){return e.title>t.title?1:-1};break;case"date":s=function(e,t){return e.createdAt<t.createdAt?1:-1}}e.jobs.sort((function(e,t){return s(e,t)}));var l=!1;return e.jobs.map((function(t){return e.selectedJob&&(l=t.id===e.selectedJob.id),a.push(Object(u.jsx)(f,{onSelectedJobIdChange:e.onSelectedJobIdChange,job:t,selected:l},t.id)),t})),Object(u.jsxs)("div",{className:"jobList",children:[Object(u.jsx)(O,{onSetOrderByChange:function(e){r(e)},orderBy:o,quantity:e.jobs.length,jobsInfo:e.jobsInfo}),a]})},m=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),o=n[0],r=n[1],a=[];e.data.jobs.map((function(t){if(-1===t.title.toUpperCase().indexOf(e.jobsTitle.toUpperCase()))return t;var n=0;return t.cities.map((function(t){return t.country.name.toUpperCase().indexOf(e.jobsLoc.toUpperCase())>=0&&n++,t})),0===n||a.push(t),t}));var s=a.find((function(e){return e.id===o})),l={jobsLoc:e.jobsLoc,jobsTitle:e.jobsTitle};return Object(u.jsxs)("div",{className:"JobListing",children:[Object(u.jsx)(x,{jobs:a,onSelectedJobIdChange:function(e){r(e)},jobsInfo:l,selectedJob:s}),Object(u.jsx)(p,{selectedJob:s})]})},C=n(134),g=n(106),v=n(234),J=n(17),y=n(236),L=n(235),T=function(){return Object(u.jsx)("div",{className:"SourceCode",children:Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/jeronimoek/search-jobs-react-app",children:Object(u.jsx)(L.a,{style:{fontSize:70}})})})},S=new C.a({uri:"https://api.graphql.jobs/"}),N=function(e){return Object(u.jsx)(v.a,{query:Object(g.a)(o||(o=Object(l.a)(["{\n      countries{\n        name\n      }\n      jobs{\n        id\n        title\n        description\n        commitment{\n          title\n        }\n        cities{\n          name\n          country{\n            name\n          }\n        }\n        company{\n          name\n          websiteUrl\n        }\n        applyUrl\n        createdAt\n      }\n    }"]))),children:function(t){var n=t.loading,o=t.error,c=t.data;if(n)return Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)(y.a,{spin:!0})});if(o)return Object(u.jsx)("p",{children:"Error!"});var r=c.jobs.map((function(e){return{value:e.title}})),a=r.filter((function(e,t){return r.findIndex((function(t){return t.value.toUpperCase()===e.value.toUpperCase()}))===t})),s=c.countries.map((function(e){return{value:e.name}})),i=s.filter((function(e,t){return s.findIndex((function(t){return t.value.toUpperCase()===e.value.toUpperCase()}))===t}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(d,{titleOptions:a,countryOptions:i,jobsTitle:e.jobsTitle,jobsLoc:e.jobsLoc,onJobTitleChange:e.handleJobTitleChange,onJobLocChange:e.handleJobLocChange}),Object(u.jsx)("hr",{}),Object(u.jsx)(m,{jobsTitle:e.jobsTitle,jobsLoc:e.jobsLoc,data:c}),Object(u.jsx)(T,{})]})}})},U=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],l=a[1];return Object(u.jsx)(J.a,{client:S,children:Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(N,{handleJobLocChange:function(e){l(e)},handleJobTitleChange:function(e){o(e)},jobsTitle:n,jobsLoc:s})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),r(e),a(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root")),I()}},[[223,1,2]]]);
//# sourceMappingURL=main.e3b394b7.chunk.js.map