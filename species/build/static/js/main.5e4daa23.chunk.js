(this.webpackJsonpspecies=this.webpackJsonpspecies||[]).push([[0],{37:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(29),o=c.n(a),s=(c(37),c(14)),i=c(2),l=c(10),u=c(1),j=r.a.createContext({}),p=function(e){var t=Object(n.useState)(""),c=Object(l.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),i=s[0],p=s[1];return Object(u.jsx)(j.Provider,{value:{locInfo:{loc:r,locSpec:i,onLocChange:function(e){a(e)},onLocSpecChange:function(e){p(e)}}},children:e.children})},h=j,f=r.a.createContext({}),O=function(e){var t=Object(i.f)();return Object(u.jsx)(f.Provider,{value:{match:t},children:e.children})},b=f,d=c(32),x=c(8),v=c.n(x),g=c(9),m=c(13),C=c.n(m),S=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://us-central1-species-eebec.cloudfunctions.net/app").then((function(e){var c=e.data;console.log("LOADED getTopLocs: "+JSON.parse(c)),t(JSON.parse(c))})).catch((function(e){console.log("ERROR!!! : ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=S;var y=function(e){return e.selected&&[].push(),Object(u.jsxs)("div",{children:["En ",Object(u.jsx)(s.b,{to:"/explore/".concat(e.loc.lugar),children:e.loc.lugar})," hay ",e.loc.count," registros."]})};var N=function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),r=c[0],a=c[1];Object(n.useEffect)((function(){w(a)}),[]);var o=Object(n.useContext)(h).locInfo.loc,s=[];if(r){var i,j=0,p=Object(d.a)(r);try{for(p.s();!(i=p.n()).done;){var f=i.value;s.push(Object(u.jsx)(y,{loc:f,selected:f===o},f+"-"+j)),j++}}catch(O){p.e(O)}finally{p.f()}}return Object(u.jsx)("div",{className:"locCont",children:s})};var E=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(N,{})})},R=(c(66),function(){var e=Object(g.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching species: "+JSON.stringify(t)),{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},e.next=4,fetch("https://us-central1-species-eebec.cloudfunctions.net/app",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:c=e.sent,console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=R;var k=function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),r=c[0],a=c[1],o="https://us-central1-species-eebec.cloudfunctions.net/app",s=Object(n.useContext)(b).match.params.lugar,i=Object(n.useContext)(h).locInfo.onLocChange;Object(n.useEffect)((function(){s&&i(s)}),[s]),s?(o+="?lugar=".concat(s),console.log("location: "+s)):(o+="?lugar=Chajar\xed",console.log("ERROR - SpeciesCont: No loc name"));var j=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,C.a.get(o).then((function(e){var t=e.data;a(JSON.parse(t))})).catch((function(e){console.log("ERROR!!! : ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)}))),[]);var p=[];if(r){console.log(r);for(var f=0;f<r.species.length||f<20;f++)p.push(r.species[f]);J(p).then()}return Object(u.jsx)("div",{className:"speciesCont"})};var A=function(e){var t=Object(n.useContext)(b).match;return console.log(t.path),Object(u.jsxs)("div",{children:["*Some explore guide*",Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"".concat(t.path,"/:lugar"),children:Object(u.jsx)(O,{children:Object(u.jsx)(k,{})})}),Object(u.jsx)(i.a,{path:t.path,children:Object(u.jsx)("h3",{children:"Please select a topic."})})]})]})};var L=function(){return Object(u.jsx)(s.a,{children:Object(u.jsx)(s.a,{basename:"/species/build/",children:Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(p,{children:Object(u.jsxs)("div",{className:"mainDiv",children:[Object(u.jsx)(E,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"/",exact:!0,children:Object(u.jsx)(O,{})}),Object(u.jsx)(i.a,{path:"/explore",children:Object(u.jsx)(O,{children:Object(u.jsx)(A,{})})})]})]})})})})})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.5e4daa23.chunk.js.map