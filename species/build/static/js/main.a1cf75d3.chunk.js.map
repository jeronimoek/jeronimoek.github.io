{"version":3,"sources":["context/LocProvider.jsx","context/RouteProvider.jsx","utils/getTopLocs.js","components/LocItem.jsx","components/LocCont.jsx","components/Sidebar.jsx","utils/getSpeciesData.js","components/SpeciesCont.jsx","components/Explore.jsx","App.jsx","index.js"],"names":["LocContext","React","createContext","LocProvider","props","useState","loc","setLoc","locSpec","setLocSpec","Provider","value","locInfo","onLocChange","newLoc","onLocSpecChange","newLocSpec","children","RouteContext","RouteProvider","match","useRouteMatch","getTopLocs","dataSet","axios","get","then","response","dataResp","data","JSON","parse","catch","error","console","log","LocItem","selected","push","to","lugar","count","LocCont","locsData","locsDataSet","useEffect","locSelected","useContext","locsItemList","i","className","Sidebar","getSpeciesData","a","stringify","url","method","species","dataJson","SpeciesCont","speciesData","speciesDataSet","query","params","getSpecies","speciesArr","length","Explore","path","App","basename","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1cf75d3.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst LocContext = React.createContext({})\r\n\r\nexport const LocProvider = (props) => {\r\n  const [loc, setLoc] = useState(\"\")\r\n  const [locSpec, setLocSpec] = useState(\"\")\r\n  \r\n  const handleLocChange = (newLoc) => {\r\n    setLoc(newLoc)\r\n  }\r\n  \r\n  const handleLocSpecChange = (newLocSpec) => {\r\n    setLocSpec(newLocSpec)\r\n  }\r\n\r\n  return(\r\n    <LocContext.Provider value={{\r\n      locInfo: {\r\n        loc: loc,\r\n        locSpec: locSpec,\r\n        onLocChange: handleLocChange,\r\n        onLocSpecChange: handleLocSpecChange\r\n      }\r\n    }}>\r\n      {props.children}\r\n    </LocContext.Provider>\r\n  )\r\n}\r\n\r\nexport default LocContext","import React from \"react\";\r\nimport { useRouteMatch } from \"react-router\";\r\n\r\nconst RouteContext = React.createContext({})\r\n\r\nexport const RouteProvider = (props) => {\r\n  const match = useRouteMatch()\r\n  return(\r\n    <RouteContext.Provider value={{match: match}}>\r\n      {props.children}\r\n    </RouteContext.Provider>\r\n  )\r\n}\r\n\r\nexport default RouteContext\r\n","import axios from 'axios';\r\n\r\nconst testData = \"[{\\\"lugar\\\":\\\"TEST - Concordia\\\",\\\"count\\\":460},{\\\"lugar\\\":\\\"TEST - Paraná\\\",\\\"count\\\":436},{\\\"lugar\\\":\\\"TEST - Chajarí\\\",\\\"count\\\":344},{\\\"lugar\\\":\\\"Gualeguaychú\\\",\\\"count\\\":317},{\\\"lugar\\\":\\\"Ceibas\\\",\\\"count\\\":297}]\"\r\n\r\nconst getTopLocs = (dataSet) => {\r\n  axios\r\n    .get(\"https://us-central1-species-eebec.cloudfunctions.net/app\")\r\n    .then((response) => {\r\n      const dataResp = response.data\r\n      dataSet(JSON.parse(dataResp))\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"ERROR!!! : \", error)\r\n      //dataSet(JSON.parse(testData))\r\n    })\r\n}\r\n\r\nexport default getTopLocs","import React from 'react';\r\nimport { Link} from 'react-router-dom';\r\n\r\nfunction LocItem(props) {\r\n  var locsSpec = []\r\n  if(props.selected){\r\n    locsSpec.push()\r\n  }\r\n  return (\r\n    <div>\r\n      En <Link to={`/explore/${props.loc.lugar}`}>{props.loc.lugar}</Link> hay {props.loc.count} registros.\r\n      {}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LocItem;","import React, { useContext, useEffect, useState } from 'react';\r\nimport LocContext from '../context/LocProvider';\r\nimport getTopLocs from '../utils/getTopLocs';\r\nimport LocItem from './LocItem';\r\n\r\nfunction LocCont(props) {\r\n  \r\n  const [locsData, locsDataSet] = useState(null)\r\n  \r\n  useEffect(() => {\r\n    getTopLocs(locsDataSet)\r\n  }, [])\r\n\r\n  const locInfo = useContext(LocContext).locInfo\r\n  const locSelected = locInfo.loc\r\n  //const locSpecSelected = locInfo.locSpec\r\n\r\n  const locsItemList = []\r\n  if(locsData){\r\n    let i = 0\r\n    for(const loc of locsData){\r\n      locsItemList.push(\r\n        <LocItem loc={loc} selected={(loc === locSelected)} key={loc+'-'+i}/>\r\n      )\r\n      i++\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"locCont\">\r\n      {locsItemList}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LocCont;","import React from 'react';\r\n//import LocContext from '../context/LocProvider';\r\nimport LocCont from './LocCont';\r\n\r\nfunction Sidebar(props) {\r\n\r\n  return (\r\n    <div>\r\n      <LocCont/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;","import axios from 'axios';\r\n\r\nconst getSpeciesData = async (data) => {\r\n  console.log(\"fetching species: \" + JSON.stringify(data))\r\n  axios({\r\n    url: \"https://us-central1-species-eebec.cloudfunctions.net/app\",\r\n    method: \"post\",\r\n    data: {species: [\"Nothura maculosa\",\"Podiceps major\"]}\r\n  })\r\n    .then((response) => {\r\n      const dataResp = response.data\r\n      const dataJson = JSON.parse(dataResp)\r\n      console.log(dataJson)\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"getSpeciesData ERROR!!! : \", error)\r\n      //dataSet(JSON.parse(testData))\r\n    })\r\n}\r\n\r\nexport default getSpeciesData","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\n//import SpeciesItem from './SpeciesItem';\r\nimport './SpeciesCont.scss'\r\nimport RouteContext from '../context/RouteProvider';\r\nimport LocContext from '../context/LocProvider';\r\nimport getSpeciesData from '../utils/getSpeciesData';\r\n\r\n\r\nfunction SpeciesCont(props) {\r\n  const [speciesData, speciesDataSet] = useState(null)\r\n\r\n  var query = \"https://us-central1-species-eebec.cloudfunctions.net/app\"\r\n  const loc = useContext(RouteContext).match.params.lugar\r\n  const onLocChange = useContext(LocContext).locInfo.onLocChange\r\n  \r\n  useEffect(()=>{\r\n    if(loc){\r\n      onLocChange(loc)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  },[loc])\r\n\r\n  if(loc){\r\n    query += `?lugar=${loc}`\r\n    console.log(\"location: \" + loc)\r\n  } else {\r\n    query += `?lugar=Chajarí`\r\n    console.log(\"ERROR - SpeciesCont: No loc name\")\r\n  }\r\n  const getSpecies = async () => {\r\n    console.log(query)\r\n    await axios\r\n      .get(query)\r\n      .then((response) => {\r\n        const dataResp = response.data\r\n        speciesDataSet(JSON.parse(dataResp))\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"ERROR!!! : \", error)\r\n        //speciesDataSet(JSON.parse(testData))\r\n      })\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getSpecies()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  //const speciesItemList = []\r\n  const speciesArr = []\r\n  if(speciesData){\r\n    console.log(speciesData)\r\n    for(let i = 0; i < speciesData.species.length || i < 20; i++){\r\n      speciesArr.push(speciesData.species[i])\r\n      /*\r\n      speciesItemList.push(\r\n        <SpeciesItem species={speciesData.species[i]}/>\r\n      )\r\n      */\r\n    }\r\n    getSpeciesData(speciesArr).then(\r\n\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className=\"speciesCont\">\r\n      {/*speciesItemList*/}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpeciesCont;","import React, { useContext } from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport RouteContext, {RouteProvider} from '../context/RouteProvider';\r\nimport SpeciesCont from './SpeciesCont';\r\n\r\nfunction Explore(props) {\r\n\r\n  const match = useContext(RouteContext).match\r\n  console.log(match.path)\r\n\r\n  return (\r\n    <div>\r\n      *Some explore guide*\r\n      <Switch>\r\n        <Route path={`${match.path}/:lugar`}>\r\n          <RouteProvider>\r\n            <SpeciesCont/>\r\n          </RouteProvider>\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <h3>Please select a topic.</h3>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Explore;","import React from 'react';\nimport './App.scss'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  BrowserRouter,\n  //Link,\n} from \"react-router-dom\";\nimport { LocProvider } from './context/LocProvider';\nimport { RouteProvider } from './context/RouteProvider';\nimport Sidebar from './components/Sidebar';\nimport Explore from './components/Explore';\n\nfunction App() {\n  return (\n    <Router>\n      <BrowserRouter basename=\"/species/build/\">\n        <div className=\"App\">\n          <LocProvider>\n            {/*<Header/>*/}\n            <div className=\"mainDiv\">\n              <Sidebar/>\n              <Switch>\n                <Route path=\"/\" exact>\n                  <RouteProvider>\n                    {/*<Home />*/}\n                  </RouteProvider>\n                </Route>\n                <Route path=\"/explore\">\n                  <RouteProvider>\n                    <Explore />\n                  </RouteProvider>\n                </Route>\n              </Switch>\n            </div>\n          </LocProvider>\n        </div>\n      </BrowserRouter>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}